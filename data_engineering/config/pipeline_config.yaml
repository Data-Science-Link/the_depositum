# Pipeline Configuration
# Configuration file for The Depositum data extraction pipeline

# API Settings
api:
  bible:
    base_url: "https://bible-api.com/data/dra"
    translation_id: "dra"
    rate_limit_delay: 2.0  # seconds between requests (increased to avoid rate limits)
    timeout: 30

# File Paths
paths:
  raw_data:
    haydock: "data_engineering/data_sources/bible_commentary_haydock/Haydock Catholic Bible Comment - Haydock, George Leo_3948.epub"
    catechism: "data_engineering/data_sources/catholic_catechism_trent/The Roman Catechism.pdf"

  processed_data:
    base: "data_engineering/processed_data"
    douay_rheims: "data_engineering/processed_data/bible_douay_rheims"
    haydock: "data_engineering/processed_data/bible_commentary_haydock"
    catechism: "data_engineering/processed_data/catholic_catechism_trent"

  final_output:
    base: "data_final"
    douay_rheims: "data_final/bible_douay_rheims"
    haydock: "data_final/bible_commentary_haydock"
    catechism: "data_final/catholic_catechism_trent"

# Output Settings
output:
  # Markdown formatting
  markdown:
    include_frontmatter: true
    frontmatter_template: |
      ---
      title: {title}
      tags: {tags}
      ---

    verse_format: "**{verse_num}** {text}"
    chapter_separator: "\n---\n"

  # File naming
  naming:
    douay_rheims: "Bible_Book_{book_number:02d}_{book_name}.md"  # Actual format: Bible_Book_01_Genesis.md, Bible_Book_73_Revelation.md
    haydock: "Bible_Book_{book_number}_{book_name}_Commentary.md"  # Actual format: Bible_Book_01_Genesis_Commentary.md, Bible_Book_73_Revelation_Commentary.md
    catechism: "Catholic_Catechism_Trent.md"

# Validation
validation:
  douay_rheims:
    expected_books: 73
    required_books:
      - "Genesis"
      - "Exodus"
      - "Apocalypse"

  haydock:
    min_files: 1

  catechism:
    min_size_kb: 100

# Logging
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/pipeline.log"

